
\def\EICdecomposition{
 \begin{tabbing} 
mmmmmmmmmmmmm   \=mmm\=mmm\=mmm\=mmm\kill
CIP loop                 \> \red{$c=1 \dots N\{$} \\
read reflector dip       \> \> $\nn$ \\
read azimuth reference   \> \> $\vv$ \\
rotate azimuth reference \> \> $\{\nn,\vv\}\rightarrow \aa$, (\req{AVEC}) \\ 
read velocity            \> \> $v$ \\
read CIP                 \> \> $\RR\lp \hh,\tt \rp$ \\
azimuth angle loop       \> \> \darkgreen{loop $\phi=0^\circ \dots 360^\circ\{$} \\
rotate by azimuth        \> \> \> $\{\nn,\phi,\aa\} \rightarrow \qq$, (\req{QVEC}) \\
reflection angle loop    \> \> \> \blue{loop $\theta=0^\circ \dots 90^\circ\{$} \\
apply slant stack        \> \> \> \> $\RR\lp \hh,\tt \rp \Longrightarrow \RR\lp \phi,\theta \rp$, (\req{CONstk}) \\
                         \> \> \> \blue{$\}$} \\
                         \> \> \darkgreen{$\}$} \\
write                    \> \> $\RR\lp \phi,\theta \rp$ \\
                         \> \red{$\}$} \\
\end{tabbing}
}


\def\EICangles{
 \begin{tabbing} 
mmmmmmmmmmmmm   \=mmm\=mmm\=mmm\=mmm\kill
CIP loop                 \> \red{$c=1 \dots N\{$} \\
read reflector dip       \> \> $\nn$ \\
read azimuth reference   \> \> $\vv$ \\
rotate azimuth reference \> \> $\{\nn,\vv\} \longrightarrow \aa$\\ 
read velocity            \> \> $v$ \\
read CIP                 \> \> $\RR\lp \hh,\tt \rp$ \\
azimuth angle loop       \> \> \darkgreen{loop $\phi=0^\circ \dots 360^\circ\{$} \\
rotate by azimuth        \> \> \> $\{\nn,\phi,\aa\} \longrightarrow \qq$ \\
reflection angle loop    \> \> \> \blue{loop $\theta=0^\circ \dots 90^\circ\{$} \\
apply slant stack        \> \> \> \> $\RR\lp \hh,\tt \rp \Longrightarrow \RR\lp \phi,\theta \rp$\\
                         \> \> \> \blue{$\}$} \\
                         \> \> \darkgreen{$\}$} \\
write                    \> \> $\RR\lp \phi,\theta \rp$ \\
                         \> \red{$\}$} \\
\end{tabbing}
}
